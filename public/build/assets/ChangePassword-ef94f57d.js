import{r as i,C as I,y as T,av as F,aw as M,ax as z,ay as A,e as N,az as R,aA as $,aB as k,aC as u,aD as V,aE as B,aF as D,aG as W,aH as P,aI as q,aJ as G,a1 as L,q as H,A as K,j as t,a as J}from"./app-5644b4fb.js";import{F as h,I as b,E as j}from"./index-60d0a624.js";import{c as U}from"./createLucideIcon-c51b10ef.js";import{w as Y}from"./PurePanel-a6f7a4ac.js";var Q=globalThis&&globalThis.__rest||function(e,s){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&s.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)s.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]]);return n};const X=e=>{const{prefixCls:s,className:n,closeIcon:a,closable:o,type:f,title:d,children:m,footer:w}=e,C=Q(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:p}=i.useContext(I),c=p(),r=s||p("modal"),y=T(c),[S,E,_]=F(r,y),x=`${r}-confirm`;let g={};return f?g={closable:o??!1,title:"",footer:"",children:i.createElement(M,Object.assign({},e,{prefixCls:r,confirmPrefixCls:x,rootPrefixCls:c,content:m}))}:g={closable:o??!0,title:d,footer:w!==null&&i.createElement(z,Object.assign({},e)),children:m},S(i.createElement(A,Object.assign({prefixCls:r,className:N(E,`${r}-pure-panel`,f&&x,f&&`${x}-${f}`,n,_,y)},C,{closeIcon:R(r,a),closable:o},g)))},Z=Y(X);function O(e){return u(G(e))}const l=$;l.useModal=k;l.info=function(s){return u(V(s))};l.success=function(s){return u(B(s))};l.error=function(s){return u(D(s))};l.warning=O;l.warn=O;l.confirm=function(s){return u(W(s))};l.destroyAll=function(){for(;P.length;){const s=P.pop();s&&s()}};l.config=q;l._InternalPanelDoNotUseOrYouWillBeFired=Z;const ee=l;var se={icon:function(s,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M81.8 537.8a60.3 60.3 0 010-51.5C176.6 286.5 319.8 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c-192.1 0-335.4-100.5-430.2-300.2z",fill:n}},{tag:"path",attrs:{d:"M512 258c-161.3 0-279.4 81.8-362.7 254C232.6 684.2 350.7 766 512 766c161.4 0 279.5-81.8 362.7-254C791.4 339.8 673.3 258 512 258zm-4 430c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z",fill:n}},{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258s279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766z",fill:s}},{tag:"path",attrs:{d:"M508 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z",fill:s}}]}},name:"eye",theme:"twotone"};const ae=se;var oe=function(s,n){return i.createElement(L,H({},s,{ref:n,icon:ae}))},te=i.forwardRef(oe);const v=te;/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["path",{d:"M12.4 2.7a2.5 2.5 0 0 1 3.4 0l5.5 5.5a2.5 2.5 0 0 1 0 3.4l-3.7 3.7a2.5 2.5 0 0 1-3.4 0L8.7 9.8a2.5 2.5 0 0 1 0-3.4z",key:"165ttr"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"m9.4 10.6-6.814 6.814A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814",key:"1ubxi2"}]],ne=U("KeySquare",re);function le({data:e,onSuccess:s}){const[n,a]=i.useState(!1),[o,f]=i.useState(!1),[d,m]=i.useState({}),[w]=h.useForm(),{notification:C}=K.useApp();function p(c){f(!0),J.post("/admin/change-password/"+e.id,c).then(r=>{r.data.status==="changed"&&(C.info({message:"Password changed successfully.",duration:2,showProgress:!0}),s(),a(!1)),f(!1)}).catch(r=>{r.response.status===422&&m(r.response.data.errors),f(!1)})}return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-2",onClick:()=>a(!0),children:[t.jsx(ne,{size:16}),"Change Password"]}),t.jsxs(ee,{open:n,title:"CHANGE PASSWORD",okText:"Save",cancelText:"Cancel",okButtonProps:{autoFocus:!0,htmlType:"submit"},onCancel:()=>a(!1),destroyOnClose:!0,modalRender:c=>t.jsx(h,{layout:"vertical",form:w,name:"form_in_modal",autoComplete:"off",initialValues:{password:"",password_confirmation:""},clearOnDestroy:!0,onFinish:r=>p(r),children:c}),children:[t.jsx(h.Item,{name:"password",label:"New Password",validateStatus:d.password?"error":"",help:d.password?d.password[0]:"",children:t.jsx(b.Password,{iconRender:c=>c?t.jsx(v,{}):t.jsx(j,{}),placeholder:"New Password"})}),t.jsx(h.Item,{name:"password_confirmation",label:"Re-type Password",validateStatus:d.password_confirmation?"error":"",help:d.password_confirmation?d.password_confirmation[0]:"",children:t.jsx(b.Password,{iconRender:c=>c?t.jsx(v,{}):t.jsx(j,{}),placeholder:"Re-type Password"})})]})]})}const ue=Object.freeze(Object.defineProperty({__proto__:null,default:le},Symbol.toStringTag,{value:"Module"}));export{le as C,v as E,ee as M,ue as a};
